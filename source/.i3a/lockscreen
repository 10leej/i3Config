#!/bin/sh

#------------------------------------------------------------------------------
# Project Name      - i3Config/source/.i3a/lockscreen
# Started On        - Thu  4 Apr 12:38:37 BST 2019
# Last Change       - Sat  1 Feb 01:29:28 GMT 2020
# Author E-Mail     - terminalforlife@yahoo.com
# Author GitHub     - https://github.com/terminalforlife
#------------------------------------------------------------------------------

#TODO: If the lock key is held, multiple instances of this script are executed.

File=`mktemp -u --suffix='_lock.png'`

SigHandler(){
	Sig=$?
	rm -f "$File"
	exit $Sig
}

trap SigHandler INT EXIT QUIT TERM ABRT

scrot -z "$File"
convert "$File" -gaussian-blur 8x8 "$File"
i3lock -u -n -i "$File"
